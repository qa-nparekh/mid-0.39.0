{"version":3,"file":"puppeteer\\index.mjs","sources":["webpack://@sqai/web/./src/puppeteer/index.ts"],"sourcesContent":["import type { WebPageAgentOpt } from '@/web-element';\r\nimport { Agent as PageAgent } from '@sqai/core/agent';\r\nimport { getDebug } from '@sqai/shared/logger';\r\nimport type { Page as PuppeteerPage } from 'puppeteer';\r\nimport { forceClosePopup } from './base-page';\r\nimport { PuppeteerWebPage } from './page';\r\n\r\nconst debug = getDebug('puppeteer:agent');\r\n\r\nexport { PuppeteerWebPage } from './page';\r\n\r\nexport class PuppeteerAgent extends PageAgent<PuppeteerWebPage> {\r\n  constructor(page: PuppeteerPage, opts?: WebPageAgentOpt) {\r\n    const webPage = new PuppeteerWebPage(page, opts);\r\n    super(webPage, opts);\r\n\r\n    const { forceSameTabNavigation = true } = opts ?? {};\r\n\r\n    if (forceSameTabNavigation) {\r\n      forceClosePopup(page, debug);\r\n    }\r\n  }\r\n}\r\n\r\nexport { overrideAIConfig } from '@sqai/shared/env';\r\n\r\n// Do NOT export this since it requires puppeteer\r\n// export { puppeteerAgentForTarget } from './agent-launcher';\r\n"],"names":["debug","getDebug","PuppeteerAgent","PageAgent","page","opts","webPage","PuppeteerWebPage","forceSameTabNavigation","forceClosePopup"],"mappings":";;;;;AAOA,MAAMA,QAAQC,SAAS;AAIhB,MAAMC,uBAAuBC;IAClC,YAAYC,IAAmB,EAAEC,IAAsB,CAAE;QACvD,MAAMC,UAAU,IAAIC,iBAAiBH,MAAMC;QAC3C,KAAK,CAACC,SAASD;QAEf,MAAM,EAAEG,yBAAyB,IAAI,EAAE,GAAGH,QAAQ,CAAC;QAEnD,IAAIG,wBACFC,gBAAgBL,MAAMJ;IAE1B;AACF"}