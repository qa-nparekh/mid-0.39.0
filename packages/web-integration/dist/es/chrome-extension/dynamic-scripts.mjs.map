{"version":3,"file":"chrome-extension\\dynamic-scripts.mjs","sources":["webpack://@sqai/web/./src/chrome-extension/dynamic-scripts.ts"],"sourcesContent":["import fs from 'node:fs';\r\nimport { ifInBrowser, ifInWorker } from '@sqai/shared/utils';\r\n\r\n// remember to include this file into extension's package\r\n// extract html element from page\r\nlet scriptFileContentCache: string | null = null;\r\nexport const getHtmlElementScript = async () => {\r\n  const scriptFileToRetrieve = chrome.runtime.getURL('scripts/htmlElement.js');\r\n  if (scriptFileContentCache) return scriptFileContentCache;\r\n  if (ifInBrowser || ifInWorker) {\r\n    const script = await fetch(scriptFileToRetrieve);\r\n    scriptFileContentCache = await script.text();\r\n    return scriptFileContentCache;\r\n  }\r\n  return fs.readFileSync(scriptFileToRetrieve, 'utf8');\r\n};\r\n\r\n// inject water flow animation\r\nlet waterFlowScriptFileContentCache: string | null = null;\r\nexport const injectWaterFlowAnimation = async () => {\r\n  const waterFlowScriptFileToRetrieve = chrome.runtime.getURL(\r\n    'scripts/water-flow.js',\r\n  );\r\n  if (waterFlowScriptFileContentCache) return waterFlowScriptFileContentCache;\r\n  if (ifInBrowser || ifInWorker) {\r\n    const script = await fetch(waterFlowScriptFileToRetrieve);\r\n    waterFlowScriptFileContentCache = await script.text();\r\n    return waterFlowScriptFileContentCache;\r\n  }\r\n  return fs.readFileSync(waterFlowScriptFileToRetrieve, 'utf8');\r\n};\r\n\r\n// inject stop water flow animation\r\nlet stopWaterFlowScriptFileContentCache: string | null = null;\r\nexport const injectStopWaterFlowAnimation = async () => {\r\n  const stopWaterFlowScriptFileToRetrieve = chrome.runtime.getURL(\r\n    'scripts/stop-water-flow.js',\r\n  );\r\n  if (stopWaterFlowScriptFileContentCache)\r\n    return stopWaterFlowScriptFileContentCache;\r\n  if (ifInBrowser || ifInWorker) {\r\n    const script = await fetch(stopWaterFlowScriptFileToRetrieve);\r\n    stopWaterFlowScriptFileContentCache = await script.text();\r\n    return stopWaterFlowScriptFileContentCache;\r\n  }\r\n  return fs.readFileSync(stopWaterFlowScriptFileToRetrieve, 'utf8');\r\n};\r\n"],"names":["scriptFileContentCache","getHtmlElementScript","scriptFileToRetrieve","chrome","ifInBrowser","ifInWorker","script","fetch","fs","waterFlowScriptFileContentCache","injectWaterFlowAnimation","waterFlowScriptFileToRetrieve","stopWaterFlowScriptFileContentCache","injectStopWaterFlowAnimation","stopWaterFlowScriptFileToRetrieve"],"mappings":";;AAKA,IAAIA,yBAAwC;AACrC,MAAMC,uBAAuB;IAClC,MAAMC,uBAAuBC,OAAO,OAAO,CAAC,MAAM,CAAC;IACnD,IAAIH,wBAAwB,OAAOA;IACnC,IAAII,eAAeC,YAAY;QAC7B,MAAMC,SAAS,MAAMC,MAAML;QAC3BF,yBAAyB,MAAMM,OAAO,IAAI;QAC1C,OAAON;IACT;IACA,OAAOQ,QAAAA,YAAe,CAACN,sBAAsB;AAC/C;AAGA,IAAIO,kCAAiD;AAC9C,MAAMC,2BAA2B;IACtC,MAAMC,gCAAgCR,OAAO,OAAO,CAAC,MAAM,CACzD;IAEF,IAAIM,iCAAiC,OAAOA;IAC5C,IAAIL,eAAeC,YAAY;QAC7B,MAAMC,SAAS,MAAMC,MAAMI;QAC3BF,kCAAkC,MAAMH,OAAO,IAAI;QACnD,OAAOG;IACT;IACA,OAAOD,QAAAA,YAAe,CAACG,+BAA+B;AACxD;AAGA,IAAIC,sCAAqD;AAClD,MAAMC,+BAA+B;IAC1C,MAAMC,oCAAoCX,OAAO,OAAO,CAAC,MAAM,CAC7D;IAEF,IAAIS,qCACF,OAAOA;IACT,IAAIR,eAAeC,YAAY;QAC7B,MAAMC,SAAS,MAAMC,MAAMO;QAC3BF,sCAAsC,MAAMN,OAAO,IAAI;QACvD,OAAOM;IACT;IACA,OAAOJ,QAAAA,YAAe,CAACM,mCAAmC;AAC5D"}