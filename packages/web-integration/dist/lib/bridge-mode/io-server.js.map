{"version":3,"file":"bridge-mode\\io-server.js","sources":["webpack://@sqai/web/webpack/runtime/define_property_getters","webpack://@sqai/web/webpack/runtime/has_own_property","webpack://@sqai/web/webpack/runtime/make_namespace_object","webpack://@sqai/web/./src/bridge-mode/io-server.ts"],"sourcesContent":["__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { sleep } from '@sqai/core/utils';\r\nimport { logMsg } from '@sqai/shared/utils';\r\nimport { Server, type Socket as ServerSocket } from 'socket.io';\r\nimport { io as ClientIO } from 'socket.io-client';\r\n\r\nimport {\r\n  type BridgeCall,\r\n  type BridgeCallResponse,\r\n  BridgeCallTimeout,\r\n  type BridgeConnectedEventPayload,\r\n  BridgeErrorCodeNoClientConnected,\r\n  BridgeEvent,\r\n  BridgeSignalKill,\r\n  DefaultBridgeServerPort,\r\n} from './common';\r\n\r\ndeclare const __VERSION__: string;\r\n\r\nexport const killRunningServer = async (port?: number) => {\r\n  try {\r\n    const client = ClientIO(\r\n      `ws://localhost:${port || DefaultBridgeServerPort}`,\r\n      {\r\n        query: {\r\n          [BridgeSignalKill]: 1,\r\n        },\r\n      },\r\n    );\r\n    await sleep(100);\r\n    await client.close();\r\n  } catch (e) {\r\n    // console.error('failed to kill port', e);\r\n  }\r\n};\r\n\r\n// ws server, this is where the request is sent\r\nexport class BridgeServer {\r\n  private callId = 0;\r\n  private io: Server | null = null;\r\n  private socket: ServerSocket | null = null;\r\n  private listeningTimeoutId: NodeJS.Timeout | null = null;\r\n  private listeningTimerFlag = false;\r\n  private connectionTipTimer: NodeJS.Timeout | null = null;\r\n  public calls: Record<string, BridgeCall> = {};\r\n\r\n  private connectionLost = false;\r\n  private connectionLostReason = '';\r\n\r\n  constructor(\r\n    public port: number,\r\n    public onConnect?: () => void,\r\n    public onDisconnect?: (reason: string) => void,\r\n    public closeConflictServer?: boolean,\r\n  ) {}\r\n\r\n  async listen(\r\n    opts: {\r\n      timeout?: number | false;\r\n    } = {},\r\n  ): Promise<void> {\r\n    const { timeout = 30000 } = opts;\r\n\r\n    if (this.closeConflictServer) {\r\n      await killRunningServer(this.port);\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      if (this.listeningTimerFlag) {\r\n        return reject(new Error('already listening'));\r\n      }\r\n      this.listeningTimerFlag = true;\r\n\r\n      this.listeningTimeoutId = timeout\r\n        ? setTimeout(() => {\r\n            reject(\r\n              new Error(\r\n                `no extension connected after ${timeout}ms (${BridgeErrorCodeNoClientConnected})`,\r\n              ),\r\n            );\r\n          }, timeout)\r\n        : null;\r\n\r\n      this.connectionTipTimer =\r\n        !timeout || timeout > 3000\r\n          ? setTimeout(() => {\r\n              logMsg('waiting for bridge to connect...');\r\n            }, 2000)\r\n          : null;\r\n      this.io = new Server(this.port, {\r\n        maxHttpBufferSize: 100 * 1024 * 1024, // 100MB\r\n      });\r\n\r\n      // Listen for the native HTTP server 'listening' event\r\n      this.io.httpServer.once('listening', () => {\r\n        resolve();\r\n      });\r\n\r\n      this.io.httpServer.once('error', (err: Error) => {\r\n        reject(new Error(`Bridge Listening Error: ${err.message}`));\r\n      });\r\n\r\n      this.io.use((socket, next) => {\r\n        if (this.socket) {\r\n          next(new Error('server already connected by another client'));\r\n        }\r\n        next();\r\n      });\r\n\r\n      this.io.on('connection', (socket) => {\r\n        // check the connection url\r\n        const url = socket.handshake.url;\r\n        if (url.includes(BridgeSignalKill)) {\r\n          console.warn('kill signal received, closing bridge server');\r\n          return this.close();\r\n        }\r\n\r\n        this.connectionLost = false;\r\n        this.connectionLostReason = '';\r\n        this.listeningTimeoutId && clearTimeout(this.listeningTimeoutId);\r\n        this.listeningTimeoutId = null;\r\n        this.connectionTipTimer && clearTimeout(this.connectionTipTimer);\r\n        this.connectionTipTimer = null;\r\n        if (this.socket) {\r\n          socket.emit(BridgeEvent.Refused);\r\n          // close the socket\r\n          socket.disconnect();\r\n\r\n          return reject(\r\n            new Error('server already connected by another client'),\r\n          );\r\n        }\r\n\r\n        try {\r\n          logMsg('one client connected');\r\n          this.socket = socket;\r\n\r\n          const clientVersion = socket.handshake.query.version;\r\n          logMsg(\r\n            `Bridge connected, cli-side version v${__VERSION__}, browser-side version v${clientVersion}`,\r\n          );\r\n\r\n          socket.on(BridgeEvent.CallResponse, (params: BridgeCallResponse) => {\r\n            const id = params.id;\r\n            const response = params.response;\r\n            const error = params.error;\r\n\r\n            this.triggerCallResponseCallback(id, error, response);\r\n          });\r\n\r\n          socket.on('disconnect', (reason: string) => {\r\n            this.connectionLost = true;\r\n            this.connectionLostReason = reason;\r\n\r\n            try {\r\n              this.io?.close();\r\n            } catch (e) {\r\n              // ignore\r\n            }\r\n\r\n            // flush all pending calls as error\r\n            for (const id in this.calls) {\r\n              const call = this.calls[id];\r\n\r\n              if (!call.responseTime) {\r\n                const errorMessage = this.connectionLostErrorMsg();\r\n                this.triggerCallResponseCallback(\r\n                  id,\r\n                  new Error(errorMessage),\r\n                  null,\r\n                );\r\n              }\r\n            }\r\n\r\n            this.onDisconnect?.(reason);\r\n          });\r\n\r\n          setTimeout(() => {\r\n            this.onConnect?.();\r\n\r\n            const payload = {\r\n              version: __VERSION__,\r\n            } as BridgeConnectedEventPayload;\r\n            socket.emit(BridgeEvent.Connected, payload);\r\n            Promise.resolve().then(() => {\r\n              for (const id in this.calls) {\r\n                if (this.calls[id].callTime === 0) {\r\n                  this.emitCall(id);\r\n                }\r\n              }\r\n            });\r\n          }, 0);\r\n        } catch (e) {\r\n          console.error('failed to handle connection event', e);\r\n          reject(e);\r\n        }\r\n      });\r\n\r\n      this.io.on('close', () => {\r\n        this.close();\r\n      });\r\n    });\r\n  }\r\n\r\n  private connectionLostErrorMsg = () => {\r\n    return `Connection lost, reason: ${this.connectionLostReason}`;\r\n  };\r\n\r\n  private async triggerCallResponseCallback(\r\n    id: string | number,\r\n    error: Error | null,\r\n    response: any,\r\n  ) {\r\n    const call = this.calls[id];\r\n    if (!call) {\r\n      throw new Error(`call ${id} not found`);\r\n    }\r\n    call.error = error || undefined;\r\n    call.response = response;\r\n    call.responseTime = Date.now();\r\n\r\n    call.callback(call.error, response);\r\n  }\r\n\r\n  private async emitCall(id: string) {\r\n    const call = this.calls[id];\r\n    if (!call) {\r\n      throw new Error(`call ${id} not found`);\r\n    }\r\n\r\n    if (this.connectionLost) {\r\n      const message = `Connection lost, reason: ${this.connectionLostReason}`;\r\n      call.callback(new Error(message), null);\r\n      return;\r\n    }\r\n\r\n    if (this.socket) {\r\n      this.socket.emit(BridgeEvent.Call, {\r\n        id,\r\n        method: call.method,\r\n        args: call.args,\r\n      });\r\n      call.callTime = Date.now();\r\n    }\r\n  }\r\n\r\n  async call<T = any>(\r\n    method: string,\r\n    args: any[],\r\n    timeout = BridgeCallTimeout,\r\n  ): Promise<T> {\r\n    const id = `${this.callId++}`;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const timeoutId = setTimeout(() => {\r\n        logMsg(`bridge call timeout, id=${id}, method=${method}, args=`, args);\r\n        this.calls[id].error = new Error(\r\n          `Bridge call timeout after ${timeout}ms: ${method}`,\r\n        );\r\n        reject(this.calls[id].error);\r\n      }, timeout);\r\n\r\n      this.calls[id] = {\r\n        method,\r\n        args,\r\n        response: null,\r\n        callTime: 0,\r\n        responseTime: 0,\r\n        callback: (error: Error | undefined, response: any) => {\r\n          clearTimeout(timeoutId);\r\n          if (error) {\r\n            reject(error);\r\n          } else {\r\n            resolve(response);\r\n          }\r\n        },\r\n      };\r\n\r\n      this.emitCall(id);\r\n    });\r\n  }\r\n\r\n  // do NOT restart after close\r\n  async close() {\r\n    this.listeningTimeoutId && clearTimeout(this.listeningTimeoutId);\r\n    this.connectionTipTimer && clearTimeout(this.connectionTipTimer);\r\n    const closeProcess = this.io?.close();\r\n    this.io = null;\r\n\r\n    return closeProcess;\r\n  }\r\n}\r\n"],"names":["__webpack_require__","definition","key","Object","obj","prop","Symbol","killRunningServer","port","client","ClientIO","DefaultBridgeServerPort","BridgeSignalKill","sleep","e","BridgeServer","opts","timeout","Promise","resolve","reject","Error","setTimeout","BridgeErrorCodeNoClientConnected","logMsg","Server","err","socket","next","url","console","clearTimeout","BridgeEvent","clientVersion","params","id","response","error","reason","_this","_this_io","call","errorMessage","payload","__VERSION__","undefined","Date","message","method","args","BridgeCallTimeout","timeoutId","closeProcess","onConnect","onDisconnect","closeConflictServer"],"mappings":"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"}