/*! For license information please see htmlElement.js.LICENSE.txt */
(()=>{var e={"../../node_modules/.pnpm/js-sha256@0.11.0/node_modules/js-sha256/src/sha256.js":function(e,t,n){!function(){"use strict";var t="input is invalid type",i="object"==typeof window,o=i?window:{};o.JS_SHA256_NO_WINDOW&&(i=!1);var r=!i&&"object"==typeof self,s=!o.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s?o=n.g:r&&(o=self);var a=!o.JS_SHA256_NO_COMMON_JS&&e.exports,h="function"==typeof define&&define.amd,l=!o.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),f=[-0x80000000,8388608,32768,128],u=[24,16,8,0],c=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],p=["hex","array","digest","arrayBuffer"],m=[];(o.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),l&&(o.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var y=function(e,t){return function(n){return new N(t,!0).update(n)[e]()}},b=function(e){var t=y("hex",e);s&&(t=g(t,e)),t.create=function(){return new N(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<p.length;++n){var i=p[n];t[i]=y(i,e)}return t},g=function(e,i){var r,s=n("?d0b7"),a=n("?531e").Buffer,h=i?"sha224":"sha256";return r=a.from&&!o.JS_SHA256_NO_BUFFER_FROM?a.from:function(e){return new a(e)},function(n){if("string"==typeof n)return s.createHash(h).update(n,"utf8").digest("hex");if(null==n)throw Error(t);return(n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===a)?s.createHash(h).update(r(n)).digest("hex"):e(n)}},x=function(e,t){return function(n,i){return new T(n,t,!0).update(i)[e]()}},w=function(e){var t=x("hex",e);t.create=function(t){return new T(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<p.length;++n){var i=p[n];t[i]=x(i,e)}return t};function N(e,t){t?(m[0]=m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0,this.blocks=m):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function T(e,n,i){var o,r=typeof e;if("string"===r){var s,a=[],h=e.length,d=0;for(o=0;o<h;++o)(s=e.charCodeAt(o))<128?a[d++]=s:(s<2048?a[d++]=192|s>>>6:(s<55296||s>=57344?a[d++]=224|s>>>12:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++o)),a[d++]=240|s>>>18,a[d++]=128|s>>>12&63),a[d++]=128|s>>>6&63),a[d++]=128|63&s);e=a}else if("object"===r){if(null===e)throw Error(t);else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw Error(t)}else throw Error(t);e.length>64&&(e=new N(n,!0).update(e).array());var f=[],u=[];for(o=0;o<64;++o){var c=e[o]||0;f[o]=92^c,u[o]=54^c}N.call(this,n,i),this.update(u),this.oKeyPad=f,this.inner=!0,this.sharedMemory=i}N.prototype.update=function(e){if(!this.finalized){var n,i=typeof e;if("string"!==i){if("object"===i){if(null===e)throw Error(t);else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw Error(t)}else throw Error(t);n=!0}for(var o,r,s=0,a=e.length,h=this.blocks;s<a;){if(this.hashed&&(this.hashed=!1,h[0]=this.block,this.block=h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0),n)for(r=this.start;s<a&&r<64;++s)h[r>>>2]|=e[s]<<u[3&r++];else for(r=this.start;s<a&&r<64;++s)(o=e.charCodeAt(s))<128?h[r>>>2]|=o<<u[3&r++]:(o<2048?h[r>>>2]|=(192|o>>>6)<<u[3&r++]:(o<55296||o>=57344?h[r>>>2]|=(224|o>>>12)<<u[3&r++]:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++s)),h[r>>>2]|=(240|o>>>18)<<u[3&r++],h[r>>>2]|=(128|o>>>12&63)<<u[3&r++]),h[r>>>2]|=(128|o>>>6&63)<<u[3&r++]),h[r>>>2]|=(128|63&o)<<u[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=h[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000|0,this.bytes=this.bytes%0x100000000),this}},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>>2]|=f[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},N.prototype.hash=function(){var e,t,n,i,o,r,s,a,h,l,d,f=this.h0,u=this.h1,p=this.h2,m=this.h3,y=this.h4,b=this.h5,g=this.h6,x=this.h7,w=this.blocks;for(e=16;e<64;++e)t=((o=w[e-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,n=((o=w[e-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,w[e]=w[e-16]+t+w[e-7]+n|0;for(e=0,d=u&p;e<64;e+=4)this.first?(this.is224?(a=300032,x=(o=w[0]-0x543c9a5b)-0x8f1a6c7|0,m=o+0x170e9b5|0):(a=0x2a01a605,x=(o=w[0]-0xc881298)-0x5ab00ac6|0,m=o+0x8909ae5|0),this.first=!1):(t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),i=(a=f&u)^f&p^d,o=x+n+(y&b^~y&g)+c[e]+w[e],r=t+i,x=m+o|0,m=o+r|0),t=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),n=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7),i=(h=m&f)^m&u^a,o=g+n+(x&y^~x&b)+c[e+1]+w[e+1],r=t+i,g=p+o|0,t=((p=o+r|0)>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),i=(l=p&m)^p&f^h,o=b+n+(g&x^~g&y)+c[e+2]+w[e+2],r=t+i,b=u+o|0,t=((u=o+r|0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),i=(d=u&p)^u&m^l,o=y+n+(b&g^~b&x)+c[e+3]+w[e+3],r=t+i,y=f+o|0,f=o+r|0,this.chromeBugWorkAround=!0;this.h0=this.h0+f|0,this.h1=this.h1+u|0,this.h2=this.h2+p|0,this.h3=this.h3+m|0,this.h4=this.h4+y|0,this.h5=this.h5+b|0,this.h6=this.h6+g|0,this.h7=this.h7+x|0},N.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,o=this.h4,r=this.h5,s=this.h6,a=this.h7,h=d[e>>>28&15]+d[e>>>24&15]+d[e>>>20&15]+d[e>>>16&15]+d[e>>>12&15]+d[e>>>8&15]+d[e>>>4&15]+d[15&e]+d[t>>>28&15]+d[t>>>24&15]+d[t>>>20&15]+d[t>>>16&15]+d[t>>>12&15]+d[t>>>8&15]+d[t>>>4&15]+d[15&t]+d[n>>>28&15]+d[n>>>24&15]+d[n>>>20&15]+d[n>>>16&15]+d[n>>>12&15]+d[n>>>8&15]+d[n>>>4&15]+d[15&n]+d[i>>>28&15]+d[i>>>24&15]+d[i>>>20&15]+d[i>>>16&15]+d[i>>>12&15]+d[i>>>8&15]+d[i>>>4&15]+d[15&i]+d[o>>>28&15]+d[o>>>24&15]+d[o>>>20&15]+d[o>>>16&15]+d[o>>>12&15]+d[o>>>8&15]+d[o>>>4&15]+d[15&o]+d[r>>>28&15]+d[r>>>24&15]+d[r>>>20&15]+d[r>>>16&15]+d[r>>>12&15]+d[r>>>8&15]+d[r>>>4&15]+d[15&r]+d[s>>>28&15]+d[s>>>24&15]+d[s>>>20&15]+d[s>>>16&15]+d[s>>>12&15]+d[s>>>8&15]+d[s>>>4&15]+d[15&s];return this.is224||(h+=d[a>>>28&15]+d[a>>>24&15]+d[a>>>20&15]+d[a>>>16&15]+d[a>>>12&15]+d[a>>>8&15]+d[a>>>4&15]+d[15&a]),h},N.prototype.toString=N.prototype.hex,N.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,o=this.h4,r=this.h5,s=this.h6,a=this.h7,h=[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,r>>>24&255,r>>>16&255,r>>>8&255,255&r,s>>>24&255,s>>>16&255,s>>>8&255,255&s];return this.is224||h.push(a>>>24&255,a>>>16&255,a>>>8&255,255&a),h},N.prototype.array=N.prototype.digest,N.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},T.prototype=new N,T.prototype.finalize=function(){if(N.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();N.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),N.prototype.finalize.call(this)}};var E=b();E.sha256=E,E.sha224=b(!0),E.sha256.hmac=w(),E.sha224.hmac=w(!0),a?e.exports=E:(o.sha256=E.sha256,o.sha224=E.sha224,h&&define(function(){return E}))}()},"?531e":function(){},"?d0b7":function(){}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";function e(t,n=150){return void 0===t?"":("object"==typeof t&&(t=JSON.stringify(t)),"number"==typeof t)?t.toString():"string"==typeof t&&t.length>n?`${t.slice(0,n)}...`:"string"==typeof t?t.trim():""}function t(t,n){return Object.keys(t).reduce((i,o)=>{let r=t[o];return"style"===o||"htmlTagName"===o||"nodeType"===o||(i[o]=e(r,n)),i},{})}function o(n,i,r=!1,s=!0){let a=t=>Object.entries(t).map(([t,n])=>`${t}="${e(n,i)}"`).join(" ");return(function n(o,s=0,h=!0){let l="",d="",f="",u=!0,c="  ".repeat(s),p="";for(let e=0;e<(o.children||[]).length;e++){let t=n(o.children[e],s+1,h);t&&(p+=`
${t}`)}if(o.node&&o.node.rect.width>4&&o.node.rect.height>4&&(!r||r&&o.node.content)&&(!h||h&&o.node.isVisible)){let n;u=!1,n=o.node.attributes?.htmlTagName?o.node.attributes.htmlTagName.replace(/[<>]/g,""):o.node.attributes.nodeType.replace(/\sNode$/,"").toLowerCase();let r=o.node.indexId,s=r?`markerId="${r}"`:"",h=o.node.rect?{left:o.node.rect.left,top:o.node.rect.top,width:o.node.rect.width,height:o.node.rect.height}:{};l=`<${n} id="${o.node.id}" ${s} ${a(t(o.node.attributes||{},i))} ${a(h)}>`;let p=e(o.node.content,i);d=p?`
${c}  ${p}`:"",f=`</${n}>`}else r||p.trim().startsWith("<>")||(l="<>",d="",f="</>");if(u&&!p.trim())return"";let m=`${c}${l}${d}${p}
${c}${f}`;return m.trim()?m:""})(n,0,s).replace(/^\s*\n/gm,"")}function r(e){let t=[];return!function e(n){for(let i of(n.node&&t.push(n.node),n.children))e(i)}(e),t}function s(e,t){return!function e(n){for(let i of(n.node&&(n.node=t(n.node)),n.children))e(i)}(e),e}n.r(i),n.d(i,{trimAttributes:()=>t,setNodeHashCacheListOnWindow:()=>L,getNodeInfoByXpath:()=>D,getXpathsById:()=>F,getElementInfoByXpath:()=>X,generateElementByPosition:()=>w,descriptionOfTree:()=>o,getNodeFromCacheList:()=>I,truncateText:()=>e,treeToList:()=>r,webExtractTextWithPosition:()=>z,getElementXpath:()=>U,webExtractNodeTree:()=>V,getXpathsByPoint:()=>W,isNotContainerElement:()=>b,traverseTree:()=>s,webExtractNodeTreeAsString:()=>j});var a=function(e){return e.CONTAINER="CONTAINER Node",e.FORM_ITEM="FORM_ITEM Node",e.BUTTON="BUTTON Node",e.A="Anchor Node",e.IMG="IMG Node",e.TEXT="TEXT Node",e.POSITION="POSITION Node",e}({}),h=n("../../node_modules/.pnpm/js-sha256@0.11.0/node_modules/js-sha256/src/sha256.js");"undefined"!=typeof process&&process.versions?.node;let l={};function d(e,t=""){let n=JSON.stringify({content:t,rect:e}),i=5,o="",r=h.sha256.create().update(n).hex().split("").map(e=>String.fromCharCode(97+Number.parseInt(e,16)%26)).join("");for(;i<r.length-1;){if(l[o=r.slice(0,i)]&&l[o]!==n){i++;continue}l[o]=n;break}return o}function f(e){return e instanceof HTMLElement&&("input"===e.tagName.toLowerCase()||"textarea"===e.tagName.toLowerCase()||"select"===e.tagName.toLowerCase()||"option"===e.tagName.toLowerCase())}function u(e){return e instanceof HTMLElement&&"button"===e.tagName.toLowerCase()}function c(e){return e instanceof HTMLElement&&"a"===e.tagName.toLowerCase()}function p(e){return e instanceof SVGElement}function m(e){return!!(!x(e)&&e instanceof Element)&&"none"!==window.getComputedStyle(e).getPropertyValue("background-image")||!!y(e)||e instanceof HTMLElement&&"img"===e.tagName.toLowerCase()||e instanceof SVGElement&&"svg"===e.tagName.toLowerCase()}function y(e){return e instanceof Element&&(window.getComputedStyle(e).fontFamily||"").toLowerCase().indexOf("iconfont")>=0}function b(e){return g(e)||y(e)||m(e)||u(e)||c(e)||f(e)}function g(e){return!!(e instanceof Element&&e?.childNodes?.length===1&&e?.childNodes[0]instanceof Text)||e.nodeName?.toLowerCase?.()==="#text"&&!y(e)}function x(e){if(!(e instanceof HTMLElement))return!1;if(e.innerText)return!0;for(let t of["svg","button","input","textarea","select","option","img","a"])if(e.querySelectorAll(t).length>0)return!0;return!1}function w(e){let t={left:Math.max(e.x-4,0),top:Math.max(e.y-4,0),width:8,height:8};return{id:d(t),attributes:{nodeType:a.POSITION},rect:t,content:"",center:[e.x,e.y]}}let N=!1;function T(...e){N&&console.log(...e)}function E(e,t,n,i=2/3){let o=e.height,r=e.width,s=A(e,{left:0,top:0,width:t.innerWidth||n.documentElement.clientWidth,height:t.innerHeight||n.documentElement.clientHeight,right:t.innerWidth||n.documentElement.clientWidth,bottom:t.innerHeight||n.documentElement.clientHeight,x:0,y:0,zoom:1});return!!s&&s.width*s.height/(o*r)>=i}function M(e,t){if(!(e instanceof t.HTMLElement))return{before:"",after:""};let n=t.getComputedStyle(e,"::before").getPropertyValue("content"),i=t.getComputedStyle(e,"::after").getPropertyValue("content");return{before:"none"===n?"":n.replace(/"/g,""),after:"none"===i?"":i.replace(/"/g,"")}}function A(e,t){let n=Math.max(e.left,t.left),i=Math.max(e.top,t.top),o=Math.min(e.right,t.right),r=Math.min(e.bottom,t.bottom);return n<o&&i<r?{left:n,top:i,right:o,bottom:r,width:o-n,height:r-i,x:n,y:i,zoom:1}:null}function C(e,t,n){let i,o=1;if(e instanceof n.HTMLElement)i=e.getBoundingClientRect(),"currentCSSZoom"in e||(o=Number.parseFloat(n.getComputedStyle(e).zoom)||1);else{let t=n.document.createRange();t.selectNodeContents(e),i=t.getBoundingClientRect()}let r=o*t;return{width:i.width*r,height:i.height*r,left:i.left*r,top:i.top*r,right:i.right*r,bottom:i.bottom*r,x:i.x*r,y:i.y*r,zoom:r}}let v=(e,t,n)=>{let i=t.left+t.width/2,o=t.top+t.height/2,r=n.document.elementFromPoint(i,o);return!(!r||r===e||e?.contains(r)||r?.contains(e))&&!!A(t,C(r,1,n))&&(T(e,"Element is covered by another element",{topElement:r,el:e,rect:t,x:i,y:o}),!0)};function O(e,t,n,i=1){if(!e||!(e instanceof t.HTMLElement)&&e.nodeType!==Node.TEXT_NODE&&"svg"!==e.nodeName.toLowerCase())return T(e,"Element is not in the DOM hierarchy"),!1;if(e instanceof t.HTMLElement){let n=t.getComputedStyle(e);if("none"===n.display||"hidden"===n.visibility||"0"===n.opacity&&"INPUT"!==e.tagName)return T(e,"Element is hidden"),!1}let o=C(e,i,t);if(0===o.width&&0===o.height)return T(e,"Element has no size"),!1;if(1===i&&v(e,o,t))return!1;let r=E(o,t,n),s=e,a=e=>{let n=e?.parentElement;for(;n;){if("static"!==t.getComputedStyle(n).position)return n;n=n.parentElement}return null};for(;s&&s!==n.body;){if(!(s instanceof t.HTMLElement)){s=s.parentElement;continue}let n=t.getComputedStyle(s);if("hidden"===n.overflow){let n=C(s,1,t);if(o.right<n.left-10||o.left>n.right+10||o.bottom<n.top-10||o.top>n.bottom+10)return T(e,"element is partially or totally hidden by an ancestor",{rect:o,parentRect:n}),!1}if("fixed"===n.position||"sticky"===n.position)break;s="absolute"===n.position?a(s):s.parentElement}return{left:Math.round(o.left),top:Math.round(o.top),width:Math.round(o.width),height:Math.round(o.height),zoom:o.zoom,isVisible:r}}function S(e,t){return e&&e instanceof t.HTMLElement&&e.attributes?Object.fromEntries(Array.from(e.attributes).map(e=>{if("class"===e.name)return[e.name,`.${e.value.split(" ").join(".")}`];if(!e.value)return[];let t=e.value;return t.startsWith("data:image")&&(t="image"),t.length>300&&(t=`${t.slice(0,300)}...`),[e.name,t]})):{}}function _(e,t,n){var i,o;let r=d(n,t);return e&&(window.midsceneNodeHashCacheList||L(),i=e,o=r,"undefined"!=typeof window&&(I(o)||window.midsceneNodeHashCacheList?.push({node:i,id:o}))),r}function L(){"undefined"!=typeof window&&(window.midsceneNodeHashCacheList=[])}function I(e){return"undefined"!=typeof window?window.midsceneNodeHashCacheList?.find(t=>t.id===e)?.node:null}let $=0;function H(e){let t="";if(e instanceof HTMLElement)t=e.tagName?.toLowerCase();else{let n=e.parentElement;n&&n instanceof HTMLElement&&(t=n.tagName?.toLowerCase())}return t?`<${t}>`:""}function B(e,t,n,i=1,o={left:0,top:0},r=!1){let s=O(e,t,n,i);if(!s||s.width<3||s.height<3||((0!==o.left||0!==o.top)&&(s.left+=o.left,s.top+=o.top),s.height>=window.innerHeight&&s.width>=window.innerWidth))return null;if(f(e)){let n=S(e,t),i=n.value||n.placeholder||e.textContent||"",o=_(e,i,s),r=e.tagName.toLowerCase();if("select"===e.tagName.toLowerCase()){let t=e.options[e.selectedIndex];i=t?.textContent||""}return("input"===e.tagName.toLowerCase()||"textarea"===e.tagName.toLowerCase())&&e.value&&(i=e.value),{id:o,nodeHashId:o,nodeType:a.FORM_ITEM,indexId:$++,attributes:{...n,htmlTagName:`<${r}>`,nodeType:a.FORM_ITEM},content:i.trim(),rect:s,center:[Math.round(s.left+s.width/2),Math.round(s.top+s.height/2)],zoom:s.zoom,isVisible:s.isVisible}}if(u(e)){let o=function(e,t,n,i=1){let o=O(e,t,n,i);if(!o)return null;let r=o.left,s=o.top,a=o.left+o.width,h=o.top+o.height;return!function e(o){for(let l=0;l<o.childNodes.length;l++){let d=o.childNodes[l];if(1===d.nodeType){let o=O(d,t,n,i);o&&(r=Math.min(r,o.left),s=Math.min(s,o.top),a=Math.max(a,o.left+o.width),h=Math.max(h,o.top+o.height)),e(d)}}}(e),{...o,left:r,top:s,width:a-r,height:h-s}}(e,t,n,i);if(!o)return null;let r=S(e,t),s=M(e,t),h=e.innerText||s.before||s.after||"",l=_(e,h,o);return{id:l,indexId:$++,nodeHashId:l,nodeType:a.BUTTON,attributes:{...r,htmlTagName:H(e),nodeType:a.BUTTON},content:h,rect:o,center:[Math.round(o.left+o.width/2),Math.round(o.top+o.height/2)],zoom:o.zoom,isVisible:o.isVisible}}if(m(e)){let n=S(e,t),i=_(e,"",s);return{id:i,indexId:$++,nodeHashId:i,attributes:{...n,...e.nodeName?.toLowerCase()==="svg"?{svgContent:"true"}:{},nodeType:a.IMG,htmlTagName:H(e)},nodeType:a.IMG,content:"",rect:s,center:[Math.round(s.left+s.width/2),Math.round(s.top+s.height/2)],zoom:s.zoom,isVisible:s.isVisible}}if(g(e)){let n=e.textContent?.trim().replace(/\n+/g," ");if(!n)return null;let i=S(e,t),o=Object.keys(i);if(!n.trim()&&0===o.length)return null;let r=_(e,n,s);return{id:r,indexId:$++,nodeHashId:r,nodeType:a.TEXT,attributes:{...i,nodeType:a.TEXT,htmlTagName:H(e)},center:[Math.round(s.left+s.width/2),Math.round(s.top+s.height/2)],content:n,rect:s,zoom:s.zoom,isVisible:s.isVisible}}if(c(e)){let n=S(e,t),i=M(e,t),o=e.innerText||i.before||i.after||"",r=_(e,o,s);return{id:r,indexId:$++,nodeHashId:r,nodeType:a.A,attributes:{...n,htmlTagName:H(e),nodeType:a.A},content:o,rect:s,center:[Math.round(s.left+s.width/2),Math.round(s.top+s.height/2)],zoom:s.zoom,isVisible:s.isVisible}}if(!(!(e instanceof HTMLElement)||x(e))&&window.getComputedStyle(e).getPropertyValue("background-color")||r){let n=S(e,t),i=_(e,"",s);return{id:i,nodeHashId:i,indexId:$++,nodeType:a.CONTAINER,attributes:{...n,nodeType:a.CONTAINER,htmlTagName:H(e)},content:"",rect:s,center:[Math.round(s.left+s.width/2),Math.round(s.top+s.height/2)],zoom:s.zoom,isVisible:s.isVisible}}return null}function z(e,t=!1){let n=V(e,t),i=[];return!function e(t){t.node&&i.push(t.node);for(let n=0;n<t.children.length;n++)e(t.children[n])}({children:n.children,node:n.node}),i}function j(e,t=!1,n=!1){return o(V(e,n),void 0,!1,t)}function V(e,t=!1){N=t,$=0;let n=document.body||document,i=e||n,o=[];function r(e,t,n,i=1,o={left:0,top:0}){if(!e||e.nodeType&&10===e.nodeType)return null;let s=B(e,t,n,i,o);if(e instanceof t.HTMLIFrameElement&&e.contentWindow&&e.contentWindow)return null;let h={node:s,children:[]};if(s?.nodeType===a.BUTTON||s?.nodeType===a.IMG||s?.nodeType===a.TEXT||s?.nodeType===a.FORM_ITEM||s?.nodeType===a.CONTAINER)return h;let l=C(e,i,t);for(let i=0;i<e.childNodes.length;i++){T("will dfs",e.childNodes[i]);let s=r(e.childNodes[i],t,n,l.zoom,o);Array.isArray(s)?h.children.push(...s):s&&h.children.push(s)}return null===h.node?0===h.children.length?null:h.children:h}let s=r(i,window,document,1,{left:0,top:0});if(Array.isArray(s)?o.push(...s):s&&o.push(s),i===n){let e=document.querySelectorAll("iframe");for(let t=0;t<e.length;t++){let n=e[t];if(n.contentDocument&&n.contentWindow){let e=B(n,window,document,1);if(e){let t=r(n.contentDocument.body,n.contentWindow,n.contentDocument,1,{left:e.rect.left,top:e.rect.top});Array.isArray(t)?o.push(...t):t&&o.push(t)}}}}return{node:null,children:o}}let R=e=>{let t=1,n=e.previousElementSibling;for(;n;)n.nodeName.toLowerCase()===e.nodeName.toLowerCase()&&t++,n=n.previousElementSibling;return t},k=e=>"string"!=typeof e?"":e.replace(/\s+/g," ").trim(),P=(e,t,n)=>{let i=e.parentNode?U(e.parentNode,t):"",o=i?`${i}/`:"/",r=e.nodeName.toLowerCase(),s=e.textContent?.trim();if(t){let t=R(e);return`${o}${r}[${t}]`}if(n&&s)return`${o}${r}[normalize-space()="${k(s)}"]`;let a=R(e);return`${o}${r}[${a}]`},U=(e,t=!1,n=!1)=>{if(e.nodeType===Node.TEXT_NODE){let n=e.parentNode;if(n&&n.nodeType===Node.ELEMENT_NODE){let i=U(n,t,!0),o=e.textContent?.trim();return o?`${i}/text()[normalize-space()="${k(o)}"]`:`${i}/text()`}return""}if(e.nodeType!==Node.ELEMENT_NODE)return"";if(e===document.documentElement)return"/html";if(e===document.body)return"/html/body";if(p(e)){let i=e.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE;){if(!p(i))return U(i,t,n);i=i.parentNode}return U(e.parentNode,t,n)}return P(e,t,n)};function F(e){let t=I(e);return t?[U(t,!1,!0)]:null}function W(e,t){let n=document.elementFromPoint(e.left,e.top);return n?[U(n,t,!0)]:null}function D(e){let t=document.evaluate(e,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);return 1!==t.snapshotLength?null:t.snapshotItem(0)}function X(e){let t=D(e);return t?(t instanceof HTMLElement&&(E(C(t,1,window),window,document,1)||t.scrollIntoView({behavior:"instant",block:"center"})),B(t,window,document,1,{left:0,top:0},!0)):null}})(),window.midscene_element_inspector=i})();